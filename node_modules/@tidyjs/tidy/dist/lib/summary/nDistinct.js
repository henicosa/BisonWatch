'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function nDistinct(key, options = {}) {
  const keyFn = typeof key === "function" ? key : (d) => d[key];
  return (items) => {
    const uniques = new Map();
    let count = 0;
    for (const item of items) {
      const value = keyFn(item);
      if (!uniques.has(value)) {
        if (!options.includeUndefined && value === void 0 || options.includeNull === false && value === null) {
          continue;
        }
        count += 1;
        uniques.set(value, true);
      }
    }
    return count;
  };
}

exports.nDistinct = nDistinct;
//# sourceMappingURL=nDistinct.js.map
