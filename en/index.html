<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="../favicon.svg" />
    <link rel="stylesheet" href="../fonts/fontawesome/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="../index.css" />
    <link rel="stylesheet" type="text/css" href="../w3.css">
    <title>BisonWatch</title>
</head>

<body>
    <main>
        <div class="header">
            EN/<a href="../">DE</a>
        </div>
        <img class="main-image" id="main-logo" src="../bisonwatchlogo2.svg">

        <div id="landing-info-container">
        
        <script>
            fetch('./../general_settings.json')
            .then(response => response.json())
            .then(data => {
                // Get the element by its ID using document.querySelector()
                const sourceInformation = document.querySelector('#term-information');
                // Overwrite the contents of the element with "Hello"
                sourceInformation.innerHTML = "Now with data from the <b>" + data["most_recent_dataset"]["verbose_en"] + "</b>.";
            });
        </script>

    <div class="container">
        <a href="parallel_sets/" class="button">filter courses</a><br><br>
        <a href="lecturer_network/" class="button">explore lecturers</a><br><br>
        <a href="bar_chart/" class="button">compare faculties</a><br><br>
    </div>

    <div class="info">
        <h2>BisonWatch</h2>
        <p id="description">These visualisations illustrate the data of the Bison Portal of the Bauhaus-Universit√§t Weimar in different contexts. </p>
        <p id="term-information"> </p>
    </div>


        <div class="faq">
            <h3>How do I use BisonWatch?</h3>
            For this question we produced a little video in English: <br />
            <div style="padding:56.25% 0 0 0 ; margin-top: 0.5rem; position:relative;"><iframe src="https://player.vimeo.com/video/607184662?h=e092cd8c71&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;"
                    title="demo bisonwatch.mp4"></iframe></div>
            <script src="https://player.vimeo.com/api/player.js"></script>
        </div>

        <div class="faq">
            <h3>How does BisonWatch work?</h3>
            BisonWatch collects course data with a WebCrawler from the Bison Portal. A WebCrawler is a programme that automatically surfs through a website and stores the information it discovers in its own database. This data is then visualised on this page. <br
            /> You can find more information in our <a href="https://github.com/henicosa/BisonWatch">Github-Repository</a>.
        </div>

        <div class="faq">
            <h3>I am a teacher myself, what happens to my data?</h3>
            In principle, only public data, i.e. data that can be viewed by external visitors to the Bison portal, is collected. This data also includes personal data. These are:
            <ul>
                <li>The names of the teachers of a course (without academic title)</li>
                <li>The associated faculty in which the teacher is employed</li>
            </ul>
            These records are then aggregated, i.e. combined into new data. This creates a new item of data for each teacher in the dataset that contains
            <ul>
                <li>a list of all courses taught by the lecturer and </li>
                <li>a list of all teachers with whom the teacher offers a shared course,</li>
            </ul> You retain the rights to your own data. If you have any further questions or objections, please contact us.
        </div>

        <div class="footer">
            <p>Code (GPL-3): <a href="https://github.com/henicosa/BisonWatch">https://github.com/henicosa/BisonWatch</a></p>
            <p>Contact: <a href="mailto:ludwig.david.lorenz@uni-weimar.de">ludwig.david.lorenz@uni-weimar.de</a> and <a href="mailto:sophie.alice.grimme@uni-weimar.de">sophie.alice.grimme@uni-weimar.de</a></p>
            <br>
            <div id="footer_item"><a href="https://www.uni-weimar.de/de/fs/impressum/">Legal notice</a></div>
            <div id="footer_item"><a href="https://www.uni-weimar.de/de/fs/datenschutz/">Data protection</a></div>
        </div>

    </div>
    </main>
</body>

<script>
    // Randomly change SVG logo colors on refresh
    window.addEventListener('DOMContentLoaded', function() {
      const logoImg = document.getElementById('main-logo');
      if (logoImg && logoImg.src.endsWith('.svg')) {
        fetch(logoImg.src)
          .then(res => res.text())
          .then(svgText => {
            function randomColor() {
              const h = Math.floor(Math.random() * 360);
              const s = 60 + Math.random() * 30;
              const l = 40 + Math.random() * 30;
              return `hsl(${h},${s}%,${l}%)`;
            }
            let coloredSVG = svgText.replace(/fill="#([0-9a-fA-F]{3,6})"/g, () => `fill="${randomColor()}"`);
            coloredSVG = coloredSVG.replace(/fill:\s*#[0-9a-fA-F]{3,6}/g, () => `fill:${randomColor()}`);
            const div = document.createElement('div');
            div.innerHTML = coloredSVG;
            const svgElem = div.querySelector('svg');
            if (svgElem) {
              logoImg.replaceWith(svgElem);
              svgElem.classList.add('main-image');
              svgElem.id = 'main-logo';
            }
          });
      }

      // Fade out logo on scroll
      function handleLogoFade() {
        const logo = document.getElementById('main-logo');
        if (!logo) return;
        const fadeStart = 40; // px
        const fadeEnd = 180; // px
        const scrollY = window.scrollY;
        if (scrollY > fadeStart) {
          logo.classList.add('fade-out');
        } else {
          logo.classList.remove('fade-out');
        }
      }
      window.addEventListener('scroll', handleLogoFade);
      handleLogoFade();
    });
    </script>

</html>